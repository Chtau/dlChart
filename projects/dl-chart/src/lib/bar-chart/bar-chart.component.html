<ng-container>
  <svg class="bar-chart-svg" width="100%" height="100%">
    <svg id="bars" class="bars" x="30px" y="30px" width="calc(100% - 60px)" height="calc(100% - 60px)">
      <rect (mousemove)="onHoverSegment($event, bar)" (mouseleave)="onLeaveSegment($event)" (click)="onClickSegment(bar)"
        [attr.id]="bar.id" [attr.class]="'bar ' + cssClassSegment(bar)" [attr.stroke]="bar.color" [attr.fill]="bar.color" [attr.x]="normOrientation(bar.x, bar.y, (bar.isMinusValue === false ? (100 - barGroundLineY) : ((100 - barGroundLineY) - bar.height)), bar.x) + '%'"
        [attr.width]="normOrientation(bar.width, bar.height, bar.height, bar.width) + '%'" [attr.y]="normOrientation(bar.y, bar.x, bar.x, (bar.isMinusValue === false ? (100 - barGroundLineY) : ((100 - barGroundLineY) - bar.height))) + '%'"
        [attr.height]="normOrientation(bar.height, bar.width, bar.width, bar.height) + '%'" *ngFor="let bar of bars">
      </rect>
      <line id="dlChartBarSelectLineIndicator" *ngIf="currentActiveBar != null && !shouldHideSelectLine" [attr.y1]="(currentActiveBar.isMinusValue === false ?  normOrientation((barGroundLineY - currentActiveBar.height), 0, 0, ((100 - barGroundLineY) + currentActiveBar.height)) : normOrientation((barGroundLineY + currentActiveBar.height), 0, 0, ((100 - barGroundLineY) - currentActiveBar.height))) + '%'"
        [attr.x1]="(currentActiveBar.isMinusValue === false ?  normOrientation(0, (barGroundLineY - currentActiveBar.height), ((100 - barGroundLineY) + currentActiveBar.height), 0) : normOrientation(0, (barGroundLineY + currentActiveBar.height), ((100 - barGroundLineY) - currentActiveBar.height), 0)) + '%'"
        [attr.y2]="(currentActiveBar.isMinusValue === false ?  normOrientation((barGroundLineY - currentActiveBar.height), 100, 100, ((100 - barGroundLineY) + currentActiveBar.height)) : normOrientation((barGroundLineY + currentActiveBar.height), 100, 100, ((100 - barGroundLineY) - currentActiveBar.height))) + '%'"
        [attr.x2]="(currentActiveBar.isMinusValue === false ?  normOrientation(100, (barGroundLineY - currentActiveBar.height), ((100 - barGroundLineY) + currentActiveBar.height), 100) : normOrientation(100, (barGroundLineY + currentActiveBar.height), ((100 - barGroundLineY) - currentActiveBar.height), 100)) + '%'"
        class="selection-line active-stroke" />
      <line id="dlChartBarNormalizedLine" [attr.y1]="normOrientation(barGroundLineY, 0, 0, (100 - barGroundLineY)) + '%'"
        [attr.x1]="normOrientation(0, barGroundLineY, (100 - barGroundLineY), 0) + '%'" [attr.y2]="normOrientation(barGroundLineY, 100, 100, (100 - barGroundLineY)) + '%'"
        [attr.x2]="normOrientation(100, barGroundLineY, (100 - barGroundLineY), 100) + '%'" class="ground-line" />
    </svg>
    <svg id="xaxis" [attr.x]="normOrientation('30px', 'calc(100% - 30px)', '0%', '30px')" [attr.y]="normOrientation('calc(100% - 30px)', '30px', '30px', '0px')"
      [attr.width]="normOrientation('calc(100% - 60px)', '30px', '30px', 'calc(100% - 60px)')" [attr.height]="normOrientation( '30px', 'calc(100% - 60px)', 'calc(100% - 60px)', '30px')">
      <g class="x axis xaxis-text">
        <g class="tick" *ngFor="let axis of xAxis; let i=index">
          <line [attr.x1]="normOrientation(axis.position + '%', '0', 'calc(100% - 6px)', (100 - axis.position) + '%')"
            [attr.x2]="normOrientation(axis.position + '%', 4, '100%', (100 - axis.position) + '%')" [attr.y1]="normOrientation(0, axis.position + '%', (100 - axis.position) + '%', '30px')"
            [attr.y2]="normOrientation(4, axis.position + '%', (100 - axis.position) + '%', '24px')"></line>
          <text [attr.dy]="normOrientation('.71em', '.31em', '.32em', '.32em')" [attr.x]="normOrientation(axis.position + '%', '6', '75%', (100 - axis.position) + '%')"
            [attr.y]="normOrientation('6', axis.position + '%', axis.position + '%', '18px')" [ngStyle]="{'text-anchor': normOrientation('middle', 'start', 'end', 'middle')}">{{
            axis.text }}</text>
        </g>
        <line id="dlChartBarXLine" [attr.x1]="normOrientation(0, 0, '100%', '0')" [attr.y1]="normOrientation(0, 0, '0%', '30px')"
          [attr.x2]="normOrientation('100%', 0, '100%', '100%')" [attr.y2]="normOrientation(0, '100%', '100%', '30px')"
          class="x-stroke" />
      </g>
    </svg>
    <svg yaxis [activeScaleAxis]="activeLeftScaleAxis" [orientation]="currentOrientation" [yAxis]="yAxis" [scaleLabel]="currentScaleLabel"></svg>
    <svg yaxis [activeScaleAxis]="activeRightScaleAxis" [orientation]="currentOrientation" [yAxis]="yAxis" [isLeft]="false" [scaleLabel]="currentScaleLabel"></svg>
  </svg>
  <div id="dlChartTooltip" *ngIf="tooltipShow" [style.top.px]="tooltipTop" [style.left.px]="tooltipLeft" class="tooltiptext">
    <span>{{ tooltipValue }}</span>
  </div>
</ng-container>